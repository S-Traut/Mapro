{% extends "base.html.twig" %}

{% block javascripts %}
	<script src="{{asset('./js/swiper.js')}}"></script>
	{{ encore_entry_script_tags('magasin') }}
{% endblock %}

{% block body %}

	<div class="form-header" style="background-image: url({{ vich_uploader_asset(magasin) }}); background-size: cover; background-position: center; background-attachment: fixed;"></div>

	<div class="container">
		<section>
			<div class="row">
				<div class="col-12 col-lg-6" style="margin-bottom: 30px">
					<h1 class="text-success">{{ magasin.nom }}</h1>
					<p style="min-height: 50px">{{ magasin.description }}</p>

					<h4>Informations de contact</h4>
					<ul>
						<li><i class="fas fa-phone"></i>{{ magasin.tel }}</li>
						<li><i class="fas fa-at"></i>{{ magasin.email }}</li>
						<li><i class="fas fa-home"></i>{{ magasin.adresse }}</li>
					</ul>
				</div>
				<div class="col-12 col-lg-6">
					<div id="map" style="height: 300px;" value="{{magasin.latitude}},{{magasin.longitude}}"></div>
				</div>
			</div>
		</section>
		<section>
			<div class="row">
				<div class="col-12">
					<h4>PRODUITS EN VENTE</h4>
					<form class="form-inline">
						<input class="form-control mr-sm-2" type="search" placeholder="Search" aria-label="Search">
						<button class="btn btn-outline-success my-2 my-sm-0" type="submit">Search</button>
					</form>
				</div>
			</div>
		</section>

		<section>
			<div class="row">
				<div class="col-12">
					<h4>ARTICLES POPULAIRES</h4>
				</div>
			</div>
			<div class="row">
				{% if articlesPop %}
					<div class="swiper-container col-12">
						<div class="swiper-wrapper">
							{% for article in articlesPop %}
								<div class="swiper-slide" style="max-width: 152px">
									{% include "./module/article.html.twig" %}
								</div>
							{% endfor %}
						</div>
					</div>
				{% else %}
					<p class="col-12 text-center">Ce magasin ne possède pas d'articles.</p>
				{% endif %}
			</div>
		</section>

		<section>
			<div class="row">
				<div class="col-12">
					<h4>TOUS LES ARTICLES</h4>
				</div>
				{% if articles %}
					<div class="swiper-container col-12">
						<div class="swiper-wrapper">
							{% for article in articles %}

								<div class="swiper-slide" style="max-width: 152px">
									{% include "./module/article.html.twig" %}
								</div>

							{% endfor %}
						</div>
					</div>
				{% else %}
					<p class="col-12 text-center">Ce magasin ne possède pas d'articles.</p>
				{% endif %}

			</div>
		</section>
	</div>
	<style>
		section {
			margin-bottom: 30px;
		}
		ul {
			padding-left: 10px;
		}
	</style>
{% endblock %}

